<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>ì‹¤ì‹œê°„ ì›¹í˜ì´ì§€ ëª¨ë‹ˆí„°ë§ & ìë™ ìƒˆë¡œê³ ì¹¨ ê´€ë¦¬</title>
<style>
  /* =============== 
     :root ë³€ìˆ˜
     ì‚¬ì´íŠ¸ ì „ì—­ì—ì„œ ì‚¬ìš©í•  ìƒ‰ìƒ ë° ìŠ¤íƒ€ì¼ ë³€ìˆ˜ ì •ì˜
     ë³€ê²½ ì‹œ --bg-light, --btn-bg-light ë“± ë³€ìˆ˜ê°’ë§Œ ìˆ˜ì •í•˜ë©´ ì „ì²´ ìŠ¤íƒ€ì¼ ë³€ê²½ ê°€ëŠ¥
  =============== */
  :root {
    --bg-light: #fafafa;            /* ê¸°ë³¸ ë°°ê²½ìƒ‰ - ë°ì€ ëª¨ë“œ */
    --bg-dark: #121212;             /* ë‹¤í¬ ëª¨ë“œ ë°°ê²½ìƒ‰ */
    --text-light: #333;             /* ë°ì€ ëª¨ë“œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
    --text-dark: #eee;              /* ë‹¤í¬ ëª¨ë“œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
    --box-bg-light: #fff;           /* ë°ì€ ëª¨ë“œ ë°•ìŠ¤ ë°°ê²½ */
    --box-bg-dark: #1e1e1e;         /* ë‹¤í¬ ëª¨ë“œ ë°•ìŠ¤ ë°°ê²½ */
    --border-light: #ddd;           /* ë°ì€ ëª¨ë“œ ë°•ìŠ¤ í…Œë‘ë¦¬ */
    --border-dark: #444;            /* ë‹¤í¬ ëª¨ë“œ ë°•ìŠ¤ í…Œë‘ë¦¬ */
    --shadow-light: rgba(0,0,0,0.1);   /* ë°ì€ ëª¨ë“œ ê·¸ë¦¼ì */
    --shadow-dark: rgba(255,255,255,0.1); /* ë‹¤í¬ ëª¨ë“œ ê·¸ë¦¼ì */
    --accent-light: #007bff;        /* ë°ì€ ëª¨ë“œ ê°•ì¡° ìƒ‰ìƒ */
    --accent-dark: #3399ff;         /* ë‹¤í¬ ëª¨ë“œ ê°•ì¡° ìƒ‰ìƒ */
    --btn-bg-light: #007bff;        /* ë²„íŠ¼ ë°°ê²½ìƒ‰(ë°ì€ ëª¨ë“œ) */
    --btn-bg-dark: #3399ff;         /* ë²„íŠ¼ ë°°ê²½ìƒ‰(ë‹¤í¬ ëª¨ë“œ) */
    --btn-hover-light: #0056b3;     /* ë²„íŠ¼ í˜¸ë²„ìƒ‰(ë°ì€ ëª¨ë“œ) */
    --btn-hover-dark: #2277dd;      /* ë²„íŠ¼ í˜¸ë²„ìƒ‰(ë‹¤í¬ ëª¨ë“œ) */
    --btn-success-light: #28a745;   /* ì„±ê³µ ë²„íŠ¼ ìƒ‰ìƒ */
    --btn-success-dark: #3dcc6e;    
    --btn-warning-light: #ffc107;   /* ê²½ê³  ë²„íŠ¼ ìƒ‰ìƒ */
    --btn-warning-dark: #ffcc33;    
    --btn-danger-light: #dc3545;    /* ìœ„í—˜ ë²„íŠ¼ ìƒ‰ìƒ */
    --btn-danger-dark: #e76b73;     
  }

  /* ê¸°ë³¸ ë°”ë”” ìŠ¤íƒ€ì¼ */
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 20px;
    background-color: var(--bg-light);
    color: var(--text-light);
    transition: background-color 0.3s, color 0.3s;
  }

  /* ë‹¤í¬ëª¨ë“œ ì ìš© ì‹œ */
  body.dark {
    background-color: var(--bg-dark);
    color: var(--text-dark);
  }

  /* íƒ€ì´í‹€ ìŠ¤íƒ€ì¼ */
  h2 {
    margin-bottom: 20px;
    font-weight: 700;
    font-size: 1.6rem;
    letter-spacing: -0.03em;
    color: var(--accent-light);
    transition: color 0.3s;
  }
  body.dark h2 {
    color: var(--accent-dark);
  }

  /* + ìƒˆ ëª¨ë‹ˆí„°ë§ ì°½ ì¶”ê°€ ë²„íŠ¼ */
  #addButton {
    margin-bottom: 24px;
    padding: 14px 22px;
    background-color: var(--btn-bg-light);
    color: white;
    font-size: 17px;
    font-weight: 600;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 8px var(--shadow-light);
    transition: background-color 0.25s ease, box-shadow 0.25s ease;
  }
  #addButton:hover {
    background-color: var(--btn-hover-light);
    box-shadow: 0 6px 12px var(--shadow-light);
  }
  body.dark #addButton {
    background-color: var(--btn-bg-dark);
    box-shadow: 0 4px 8px var(--shadow-dark);
  }
  body.dark #addButton:hover {
    background-color: var(--btn-hover-dark);
    box-shadow: 0 6px 12px var(--shadow-dark);
  }

  /* ì»¨í…Œì´ë„ˆ: ëª¨ë“  ëª¨ë‹ˆí„°ë§ ì°½(div) ë°°ì¹˜ìš© flex ë°•ìŠ¤ */
  #container {
    display: flex;
    flex-wrap: wrap;
    gap: 18px;
  }

  /* ê° ëª¨ë‹ˆí„°ë§ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
  .urlBox {
    position: relative;               /* ì‚­ì œ ë²„íŠ¼ ìœ„ì¹˜ ì¡°ì ˆ ìœ„í•´ relative í•„ìš” */
    flex: 0 0 calc(33.33% - 12px);  /* 3ë“±ë¶„ ë„ˆë¹„ */
    box-sizing: border-box;
    background-color: var(--box-bg-light);
    border: 1px solid var(--border-light);
    border-radius: 14px;
    padding: 18px;
    box-shadow: 0 4px 16px var(--shadow-light);
    display: flex;
    flex-direction: column;
    transition: box-shadow 0.3s ease, background-color 0.3s, border-color 0.3s;
  }
  body.dark .urlBox {
    background-color: var(--box-bg-dark);
    border-color: var(--border-dark);
    box-shadow: 0 4px 16px var(--shadow-dark);
  }
  .urlBox:hover {
    box-shadow: 0 8px 24px var(--shadow-light);
  }
  body.dark .urlBox:hover {
    box-shadow: 0 8px 24px var(--shadow-dark);
  }

  /* =============== ì‚­ì œ ë²„íŠ¼(X) ìŠ¤íƒ€ì¼ ===============
     ê¸°ëŠ¥: í•´ë‹¹ ëª¨ë‹ˆí„°ë§ ì°½ì„ ì‚­ì œí•˜ëŠ” ë²„íŠ¼
     ì˜µì…˜: í¬ê¸°, ìœ„ì¹˜, ìƒ‰ìƒ ë“± ì¡°ì ˆ ê°€ëŠ¥
     ë³€ê²½ë²•: .deleteBtn ê´€ë ¨ ì†ì„± ìˆ˜ì •, íŠ¹íˆ position, top, right ê°’ìœ¼ë¡œ ìœ„ì¹˜ ë³€ê²½ ê°€ëŠ¥
  =============================================== */
  .deleteBtn {
    position: absolute;   /* ì ˆëŒ€ ìœ„ì¹˜ ì§€ì •í•˜ì—¬ URL ì…ë ¥ì°½ ê²¹ì¹¨ ë°©ì§€ */
    top: 16px;            /* ìœ„ì—ì„œ 16px ë–¨ì–´ì§ */
    right: 16px;          /* ì˜¤ë¥¸ìª½ì—ì„œ 16px ë–¨ì–´ì§ */
    width: 30px;          /* ë²„íŠ¼ ê°€ë¡œ í¬ê¸° */
    height: 30px;         /* ë²„íŠ¼ ì„¸ë¡œ í¬ê¸° */
    font-size: 20px;      /* X í‘œì‹œ ê¸€ì í¬ê¸° */
    line-height: 30px;    /* ìˆ˜ì§ ì •ë ¬ ìœ„í•´ line-height == ë†’ì´ */
    text-align: center;   /* ê¸€ì ì¤‘ì•™ ì •ë ¬ */
    background: #e74c3c;  /* ë¹¨ê°„ìƒ‰ ë°°ê²½ */
    border-radius: 50%;   /* ë™ê·¸ë€ ëª¨ì–‘ */
    color: white;
    border: none;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.25);
    transition: background-color 0.25s ease, box-shadow 0.25s ease;
    z-index: 10;          /* ë‹¤ë¥¸ ìš”ì†Œ ìœ„ì— í‘œì‹œ */
  }
  .deleteBtn:hover {
    background-color: #c0392b;
    box-shadow: 0 3px 9px rgba(0,0,0,0.35);
  }

  /* =============== URL ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ ===================
     ê¸°ëŠ¥: ëª¨ë‹ˆí„°ë§í•  ì›¹ í˜ì´ì§€ URL ì…ë ¥ìš© í…ìŠ¤íŠ¸ë°•ìŠ¤
     ì˜µì…˜: ë„ˆë¹„, ë†’ì´, í°íŠ¸ í¬ê¸°, íŒ¨ë”© ì¡°ì ˆ ê°€ëŠ¥
     ë³€ê²½ë²•: .urlBox input[type="text"] ì—ì„œ width, padding, font-size ìˆ˜ì •
     URL ì…ë ¥ì°½ê³¼ ì‚­ì œ ë²„íŠ¼ì´ ê²¹ì¹˜ì§€ ì•Šê²Œ ì˜¤ë¥¸ìª½ padding ë„‰ë„‰íˆ ë‘ 
  ================================================== */
  .urlBox input[type="text"] {
    width: 80%;                     /* ê°€ë¡œ ê¸¸ì´ ì•½ê°„ ì¤„ì„ (ê¸°ì¡´ 100%->95%) */
    padding: 12px 48px 12px 14px;  /* ì˜¤ë¥¸ìª½ ì¶©ë¶„í•œ ì—¬ë°±(48px)ìœ¼ë¡œ ì‚­ì œ ë²„íŠ¼ ê³µê°„ í™•ë³´ */
    margin-bottom: 12px;
    font-size: 15px;
    font-weight: 500;
    border-radius: 8px;
    border: 1.8px solid #bbb;
    box-sizing: border-box;
    box-shadow: inset 0 2px 6px rgb(0 0 0 / 0.07);
    transition: border-color 0.3s ease, background-color 0.3s, color 0.3s, box-shadow 0.3s;
  }
  .urlBox input[type="text"]:focus {
    outline: none;
    border-color: var(--btn-bg-light);
    box-shadow: 0 0 10px var(--btn-bg-light);
  }
  body.dark .urlBox input[type="text"] {
    background-color: #222;
    border-color: #555;
    color: #eee;
    box-shadow: inset 0 2px 6px rgb(255 255 255 / 0.05);
  }
  body.dark .urlBox input[type="text"]:focus {
    border-color: var(--btn-bg-dark);
    box-shadow: 0 0 10px var(--btn-bg-dark);
  }

  /* =============== ë°˜ë³µíšŸìˆ˜/ì‹œê°„ ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ ===================
     ê¸°ëŠ¥: ìë™ ìƒˆë¡œê³ ì¹¨ ë°˜ë³µ íšŸìˆ˜, ë°˜ë³µ ê°„ê²©(ì´ˆ) ì…ë ¥ìš© ìˆ«ìë°•ìŠ¤
     ì˜µì…˜: ë„ˆë¹„, ë†’ì´, í°íŠ¸ í¬ê¸°, ì—¬ë°± ë“± ìˆ˜ì • ê°€ëŠ¥
     ë³€ê²½ë²•: .controls input[type="number"]ì˜ width/padding/font-size ë³€ê²½
     ì—¬ê¸°ì„œëŠ” ê°€ë¡œ 60pxë¡œ ê³ ì •, ë†’ì´ëŠ” ì ë‹¹íˆ íŒ¨ë”©ìœ¼ë¡œ ìœ ì§€
  ================================================== */
  .controls {
    display: flex;
    gap: 10px;
    margin-bottom: 10px;
  }

  .controls input[type="number"] {
    width: 60px;             /* ìˆ«ì 4ìë¦¬ ì •ë„ ë³´ì´ë„ë¡ ê°€ë¡œ ê¸¸ì´ ê³ ì • */
    padding: 6px 8px;        /* ë†’ì´ í™•ë³´ ìœ„í•œ íŒ¨ë”© */
    font-size: 15px;
    font-weight: 600;
    border-radius: 6px;
    border: 1.5px solid #bbb;
    box-sizing: border-box;
    box-shadow: inset 0 1px 3px rgb(0 0 0 / 0.1);
    transition: border-color 0.3s ease, background-color 0.3s, color 0.3s;
  }
  .controls input[type="number"]:focus {
    outline: none;
    border-color: var(--btn-bg-light);
    box-shadow: 0 0 8px var(--btn-bg-light);
  }
  body.dark .controls input[type="number"] {
    background-color: #222;
    border-color: #555;
    color: #eee;
    box-shadow: inset 0 1px 3px rgb(255 255 255 / 0.06);
  }
  body.dark .controls input[type="number"]:focus {
    border-color: var(--btn-bg-dark);
    box-shadow: 0 0 8px var(--btn-bg-dark);
  }

  /* =============== ë°˜ë³µ ì‹œì‘ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ===================
     ê¸°ëŠ¥: ìƒˆë¡œê³ ì¹¨ ë°˜ë³µ ì‹œì‘/ì¤‘ë‹¨ í† ê¸€ ë²„íŠ¼
     ì˜µì…˜: ìƒ‰ìƒ, í¬ê¸°, í˜¸ë²„ íš¨ê³¼ ë“± ë³€ê²½ ê°€ëŠ¥
     ë³€ê²½ë²•: .repeatBtn ê´€ë ¨ CSS ìˆ˜ì •
  ================================================== */
  .repeatBtn {
    padding: 8px 16px;
    font-size: 15px;
    font-weight: 600;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    background: linear-gradient(135deg, var(--btn-warning-light), #d4af37);
    color: #3d2e00;
    box-shadow: 0 4px 15px rgba(212,175,55,0.6);
    transition: background 0.4s ease, box-shadow 0.4s ease, color 0.3s ease;
    user-select: none;
    margin-bottom: 10px;
  }
  .repeatBtn.active {
    background: linear-gradient(135deg, var(--btn-danger-light), #a00000);
    color: #fff;
    box-shadow: 0 5px 20px rgba(160,0,0,0.8);
  }
  .repeatBtn:hover:not(.active) {
    background: linear-gradient(135deg, #e6be26, #b08800);
    box-shadow: 0 6px 20px rgba(212,175,55,0.75);
  }
  .repeatBtn.active:hover {
    background: linear-gradient(135deg, #c00000, #700000);
    box-shadow: 0 7px 24px rgba(160,0,0,0.9);
  }
  body.dark .repeatBtn {
    background: linear-gradient(135deg, var(--btn-warning-dark), #f4db6e);
    color: #3d2e00;
    box-shadow: 0 4px 15px rgba(255,255,150,0.4);
  }
  body.dark .repeatBtn.active {
    background: linear-gradient(135deg, var(--btn-danger-dark), #b02424);
    color: #fff;
    box-shadow: 0 5px 20px rgba(255,80,80,0.85);
  }
  body.dark .repeatBtn:hover:not(.active) {
    background: linear-gradient(135deg, #ffe76a, #cfa700);
    box-shadow: 0 6px 20px rgba(255,255,150,0.6);
  }
  body.dark .repeatBtn.active:hover {
    background: linear-gradient(135deg, #d04141, #7c2222);
    box-shadow: 0 7px 24px rgba(255,80,80,0.95);
  }

  /* iframe ìŠ¤íƒ€ì¼: ê° ëª¨ë‹ˆí„°ë§ ì°½ì—ì„œ ì‹¤ì œ í˜ì´ì§€ ë³´ì—¬ì£¼ëŠ” ì˜ì—­ */
  iframe {
    width: 100%;                   /* ë„ˆë¹„ 100% */
    height: 280px;                 /* ë†’ì´ ê³ ì • */
    border: 1px solid var(--border-light);
    border-radius: 12px;
    flex-grow: 1;                  /* ë‚¨ì€ ê³µê°„ ì±„ìš°ê¸° */
    transition: border-color 0.3s ease, background-color 0.3s ease;
  }
  body.dark iframe {
    border-color: var(--border-dark);
    background-color: #111;
  }

  /* ìƒíƒœ í‘œì‹œ ì˜ì—­ */
  .status {
    font-size: 13px;
    font-weight: 500;
    color: #555;
    margin-top: 6px;
    min-height: 20px;      /* ìµœì†Œ ë†’ì´ë¡œ ìœ„ì¹˜ ì•ˆì •í™” */
    transition: color 0.3s ease;
  }
  body.dark .status {
    color: #ccc;
  }

  /* =============== ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ ===============
     ê¸°ëŠ¥: í™”ë©´ ìš°ì¸¡ ìƒë‹¨ì— ìœ„ì¹˜í•´ ë¼ì´íŠ¸/ë‹¤í¬ëª¨ë“œ í† ê¸€
     ì˜µì…˜: ìœ„ì¹˜, ìƒ‰ìƒ, ì•„ì´ì½˜ ë³€ê²½ ê°€ëŠ¥
     ë³€ê²½ë²•: #darkToggle ìŠ¤íƒ€ì¼ ë° ë‚´ë¶€ í…ìŠ¤íŠ¸ ë³€ê²½
  ================================================== */
  #darkToggle {
    position: fixed;
    top: 16px;
    right: 16px;
    background-color: var(--btn-bg-light);
    border: none;
    color: white;
    font-size: 20px;
    padding: 12px 20px;
    border-radius: 10px;
    cursor: pointer;
    box-shadow: 0 3px 10px var(--shadow-light);
    transition: background-color 0.3s ease;
    z-index: 1000;
    user-select: none;
  }
  #darkToggle:hover {
    background-color: var(--btn-hover-light);
  }
  body.dark #darkToggle {
    background-color: var(--btn-bg-dark);
    box-shadow: 0 3px 10px var(--shadow-dark);
  }
  body.dark #darkToggle:hover {
    background-color: var(--btn-hover-dark);
  }
</style>
</head>
<body>
  <h2>ì‹¤ì‹œê°„ ì›¹í˜ì´ì§€ ëª¨ë‹ˆí„°ë§ & ìë™ ìƒˆë¡œê³ ì¹¨ ê´€ë¦¬</h2>
  <button id="addButton">+ ìƒˆ ëª¨ë‹ˆí„°ë§ ì°½ ì¶”ê°€</button>

  <!-- ëª¨ë‹ˆí„°ë§ ì°½ë“¤ì´ ì¶”ê°€ë˜ëŠ” ì»¨í…Œì´ë„ˆ -->
  <div id="container"></div>

  <!-- ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ -->
  <button id="darkToggle" aria-label="ë‹¤í¬ëª¨ë“œ í† ê¸€">ğŸŒ™</button>

  <script>
    // ì»¨í…Œì´ë„ˆ, ì¶”ê°€ ë²„íŠ¼, ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ ìš”ì†Œ ì°¸ì¡°
    const container = document.getElementById('container');
    const addButton = document.getElementById('addButton');
    const darkToggle = document.getElementById('darkToggle');

    /**
     * ìƒˆë¡œìš´ ëª¨ë‹ˆí„°ë§ ë°•ìŠ¤ ìƒì„± í•¨ìˆ˜
     * ê¸°ëŠ¥: URL ì…ë ¥, ë°˜ë³µ ìƒˆë¡œê³ ì¹¨ íšŸìˆ˜/ê°„ê²© ì…ë ¥, ìƒˆë¡œê³ ì¹¨ ì‹œì‘/ì¤‘ë‹¨, ì‚­ì œ ê°€ëŠ¥
     * ë³€ê²½ ì‹œ: ê° ìš”ì†Œ ìƒì„± ë¶€ë¶„ ì°¸ê³ í•˜ì—¬ ìˆ˜ì •
     */
    function createUrlBox() {
      const box = document.createElement("div");
      box.className = "urlBox";

      // ì‚­ì œ ë²„íŠ¼ ìƒì„± (X)
      const deleteBtn = document.createElement("button");
      deleteBtn.className = "deleteBtn";
      deleteBtn.title = "ì‚­ì œ";
      deleteBtn.textContent = "Ã—";

      // ì‚­ì œ ë²„íŠ¼ í´ë¦­ ì‹œ ì´ë²¤íŠ¸: íƒ€ì´ë¨¸ ì¤‘ë‹¨ í›„ ë°•ìŠ¤ ì‚­ì œ
      deleteBtn.addEventListener("click", () => {
        //if (confirm("ì´ ëª¨ë‹ˆí„°ë§ ì°½ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
          clearInterval(timer);
          box.remove();
        //}
      });

      // URL ì…ë ¥ì°½ ìƒì„±
      const urlInput = document.createElement("input");
      urlInput.type = "text";
      urlInput.placeholder = "URL ì…ë ¥ (ì˜ˆ: https://example.com)";

      // iframe ìƒì„± (ì…ë ¥í•œ URL í˜ì´ì§€ í‘œì‹œìš©)
      const iframe = document.createElement("iframe");

      // ë°˜ë³µ íšŸìˆ˜ ì…ë ¥ì°½ ìƒì„±
      const repeatCount = document.createElement("input");
      repeatCount.type = "number";
      repeatCount.placeholder = "íšŸìˆ˜";
      repeatCount.min = 1;

      // ë°˜ë³µ ì‹œê°„(ì´ˆ) ì…ë ¥ì°½ ìƒì„±
      const repeatInterval = document.createElement("input");
      repeatInterval.type = "number";
      repeatInterval.placeholder = "ì´ˆ (ìµœì†Œ 0.5)";
      repeatInterval.min = 0.5;
      repeatInterval.step = 0.1;

      // ë°˜ë³µ ì‹œì‘/ì¤‘ë‹¨ ë²„íŠ¼ ìƒì„±
      const repeatBtn = document.createElement("button");
      repeatBtn.textContent = "ë°˜ë³µ ì‹œì‘";
      repeatBtn.className = "repeatBtn";

      // ìƒíƒœ í‘œì‹œ ì˜ì—­ ìƒì„± (í…ìŠ¤íŠ¸ ìƒíƒœ ë³´ì—¬ì¤Œ)
      const status = document.createElement("div");
      status.className = "status";

      // URL ì…ë ¥ì°½ì—ì„œ Enterí‚¤ ëˆ„ë¥´ë©´ ë°”ë¡œ URL ë¡œë“œ
      urlInput.addEventListener("keypress", e => {
        if (e.key === "Enter") {
          loadUrl();
        }
      });

      /**
       * iframeì— URL ë¡œë“œ í•¨ìˆ˜
       * - URL ì•ì— http:// ë˜ëŠ” https:// ì—†ìœ¼ë©´ ìë™ìœ¼ë¡œ https:// ë¶™ì„
       * - URL ì…ë ¥ì´ ì—†ìœ¼ë©´ ê²½ê³ ì°½ ë„ì›€
       */
      function loadUrl() {
        const raw = urlInput.value.trim();
        if (!raw) {
          alert("URLì„ ì…ë ¥í•˜ì„¸ìš”.");
          return;
        }
        const url = raw.startsWith("http://") || raw.startsWith("https://") ? raw : "https://" + raw;
        iframe.src = url;
        status.textContent = "í˜ì´ì§€ ë¡œë”© ì¤‘...";
      }

      // íƒ€ì´ë¨¸ ë³€ìˆ˜, ë°˜ë³µ íšŸìˆ˜ ì¹´ìš´í„°, ë™ì‘ ìƒíƒœ í”Œë˜ê·¸
      let timer = null;
      let count = 0;
      let running = false;

      /**
       * ë°˜ë³µ ì‹œì‘/ì¤‘ë‹¨ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
       * - ì‹œì‘ ì‹œ ì…ë ¥ê°’ ìœ íš¨ì„± ê²€ì‚¬
       * - ë°˜ë³µ íšŸìˆ˜, ë°˜ë³µ ì‹œê°„ì— ë”°ë¼ ìƒˆë¡œê³ ì¹¨ ì‹¤í–‰
       * - ë°˜ë³µ ì¤‘ì—ëŠ” ë²„íŠ¼ í…ìŠ¤íŠ¸ì™€ ìƒíƒœ í…ìŠ¤íŠ¸ ë³€ê²½
       * - ë°˜ë³µ ì™„ë£Œ ë˜ëŠ” ì¤‘ë‹¨ ì‹œ íƒ€ì´ë¨¸ í´ë¦¬ì–´ ë° ìƒíƒœ ì´ˆê¸°í™”
       */
      repeatBtn.addEventListener("click", () => {
        if (running) {
          // ì¤‘ë‹¨ ìš”ì²­
          clearInterval(timer);
          timer = null;
          running = false;
          repeatBtn.textContent = "ë°˜ë³µ ì‹œì‘";
          status.textContent = "ë°˜ë³µ ì¤‘ë‹¨ë¨";
          return;
        }

        const times = parseInt(repeatCount.value, 10);
        let secondsRaw = parseFloat(repeatInterval.value);
        if (!times || !secondsRaw || secondsRaw < 0.5) {
          alert("ë°˜ë³µ íšŸìˆ˜ì™€ 0.5ì´ˆ ì´ìƒì˜ ê°„ê²©ì„ ì…ë ¥í•˜ì„¸ìš”.");
          return;
        }
        const seconds = secondsRaw;

        count = 0;
        running = true;
        repeatBtn.textContent = "ë°˜ë³µ ì¤‘ë‹¨";
        status.textContent = `ìƒˆë¡œê³ ì¹¨ ì§„í–‰ ì¤‘... (0 / ${times})`;

        // ë°˜ë³µ ì‹œì‘ ì‹œ ìµœì‹  URLë¡œ í˜ì´ì§€ ë¡œë“œ (ë°˜ë³µ ì „ì— í•œë²ˆ ë¡œë“œ)
        loadUrl();

        // ì£¼ê¸°ì  ìƒˆë¡œê³ ì¹¨ íƒ€ì´ë¨¸ ì‹œì‘
        timer = setInterval(() => {
          if (count >= times) {
            // ë°˜ë³µ ì™„ë£Œ
            clearInterval(timer);
            timer = null;
            running = false;
            repeatBtn.textContent = "ë°˜ë³µ ì‹œì‘";
            status.textContent = "ë°˜ë³µ ì™„ë£Œ";
          } else {
            // ìºì‹œ ë°©ì§€ ì¿¼ë¦¬ ìŠ¤íŠ¸ë§(timestamp) ë¶™ì—¬ ìƒˆë¡œê³ ì¹¨
            const srcBase = iframe.src.split('?')[0];
            iframe.src = srcBase + '?_ts=' + Date.now();
            count++;
            status.textContent = `ìƒˆë¡œê³ ì¹¨ ì§„í–‰ ì¤‘... (${count} / ${times})`;
          }
        }, seconds * 1000);
      });

      // ë°˜ë³µíšŸìˆ˜ì™€ ë°˜ë³µì‹œê°„ input ë°•ìŠ¤ë¥¼ ê°ì‹¸ëŠ” div ìƒì„± í›„ ì¶”ê°€
      const controls = document.createElement("div");
      controls.className = "controls";
      controls.appendChild(repeatCount);
      controls.appendChild(repeatInterval);

      // ë°•ìŠ¤ì— ìˆœì„œëŒ€ë¡œ í•„ìš”í•œ ì—˜ë¦¬ë¨¼íŠ¸ë“¤ ì¶”ê°€
      box.appendChild(deleteBtn);
      box.appendChild(urlInput);
      box.appendChild(controls);
      box.appendChild(repeatBtn);
      box.appendChild(status);
      box.appendChild(iframe);

      return box;
    }

    // + ë²„íŠ¼ í´ë¦­ ì‹œ ìƒˆ ëª¨ë‹ˆí„°ë§ ë°•ìŠ¤ ì¶”ê°€
    addButton.addEventListener("click", () => {
      const newBox = createUrlBox();
      container.appendChild(newBox);
    });

    // ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    darkToggle.addEventListener("click", () => {
      document.body.classList.toggle("dark");
      // ë‹¤í¬ëª¨ë“œ ì—¬ë¶€ì— ë”°ë¼ í† ê¸€ ë²„íŠ¼ ì•„ì´ì½˜ ë³€ê²½
      if (document.body.classList.contains("dark")) {
        darkToggle.textContent = "â˜€ï¸";  // ë‹¤í¬ëª¨ë“œì¼ ë•Œ í•´ ëª¨ì–‘
      } else {
        darkToggle.textContent = "ğŸŒ™";  // ë¼ì´íŠ¸ ëª¨ë“œì¼ ë•Œ ë‹¬ ëª¨ì–‘
      }
    });

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§ ë°•ìŠ¤ 1ê°œ ìë™ ìƒì„±
    addButton.click();
  </script>
</body>
</html>
