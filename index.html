<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
  <!-- ë¬¸ì„œì˜ ë¬¸ì ì¸ì½”ë”©ì„ UTF-8ë¡œ ì„¤ì • (í•œê¸€ í¬í•¨ ëª¨ë“  ë¬¸ì ì •ìƒ í‘œì‹œ) -->
  <meta charset="UTF-8" />
  <!-- ë¸Œë¼ìš°ì € íƒ­ì— í‘œì‹œë  ì œëª© -->
  <title>ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ</title>
  <!-- ëª¨ë°”ì¼/íƒœë¸”ë¦¿ì—ì„œë„ í™”ë©´ì„ ê¸°ê¸° ë„ˆë¹„ì— ë§ì¶”ê³  í™•ëŒ€ ì¶•ì†Œ ë¹„ìœ¨ì„ 1ë¡œ ì„¤ì • -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* ì „ì—­ ë³€ìˆ˜ ì •ì˜: ê¸°ë³¸ í…Œë§ˆ ìƒ‰ìƒ */
    :root {
      --bg-color: #fff;            /* ë°°ê²½ìƒ‰ - ë°ì€ í…Œë§ˆ */
      --text-color: #222;          /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
      --header-bg: #111;           /* í—¤ë” ë°°ê²½ìƒ‰ */
      --header-text: #fff;         /* í—¤ë” í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
      --box-bg: #fff;              /* ëª¨ë‹ˆí„°ë§ ë°•ìŠ¤ ë°°ê²½ */
      --box-border: #ccc;          /* ë°•ìŠ¤ í…Œë‘ë¦¬ */
    }

    /* ë‹¤í¬ í…Œë§ˆ ìƒ‰ìƒ ë³€ìˆ˜ ì¬ì •ì˜ */
    [data-theme="dark"] {
      --bg-color: #121212;         /* ë°°ê²½ìƒ‰ - ì–´ë‘ìš´ í…Œë§ˆ */
      --text-color: #e0e0e0;       /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ - ë°ê²Œ */
      --header-bg: #1f1f1f;        /* í—¤ë” ë°°ê²½ ì–´ë‘¡ê²Œ */
      --header-text: #fff;         /* í—¤ë” í…ìŠ¤íŠ¸ í°ìƒ‰ */
      --box-bg: #1e1e1e;           /* ë°•ìŠ¤ ë°°ê²½ ì–´ë‘¡ê²Œ */
      --box-border: #333;          /* í…Œë‘ë¦¬ ì–´ë‘¡ê²Œ */
    }

    /* ì „ì²´ í˜ì´ì§€ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
    body {
      margin: 0;                          /* ì—¬ë°± ì œê±° */
      background: var(--bg-color);       /* ë°°ê²½ìƒ‰ ì „ì—­ ë³€ìˆ˜ ì ìš© */
      font-family: 'Segoe UI', Roboto, sans-serif;  /* ë³¸ë¬¸ ê¸€ê¼´ ì§€ì • */
      color: var(--text-color);          /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ ì „ì—­ ë³€ìˆ˜ */
    }

    /* ìƒë‹¨ í—¤ë” ìŠ¤íƒ€ì¼ */
    header {
      background-color: var(--header-bg);      /* í—¤ë” ë°°ê²½ìƒ‰ */
      color: var(--header-text);              /* í—¤ë” í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
      padding: 20px 40px;                     /* ìœ„ì•„ë˜20px, ì¢Œìš°40px ì—¬ë°± */
      display: flex;                          /* ë‚´ë¶€ ìš”ì†Œ ê°€ë¡œë°°ì¹˜ */
      justify-content: space-between;         /* ì¢Œìš° ì •ë ¬ */
      align-items: center;                    /* ìˆ˜ì§ ì¤‘ì•™ì •ë ¬ */
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);  /* ê·¸ë¦¼ì íš¨ê³¼ */
    }

    /* í—¤ë” ë‚´ ì œëª© í…ìŠ¤íŠ¸ */
    header h1 {
      font-size: 1.8rem;             /* ê¸€ì í¬ê¸° */
      font-weight: 600;              /* ê¸€ì êµµê¸° */
      letter-spacing: 0.5px;         /* ìê°„ */
      margin: 0;                     /* ê¸°ë³¸ ë§ˆì§„ ì œê±° */
    }

    /* ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    #toggleThemeBtn {
      padding: 8px 16px;             /* ì—¬ë°± */
      background: #444;              /* ë°°ê²½ìƒ‰ */
      color: #fff;                   /* ê¸€ììƒ‰ */
      border: none;                  /* í…Œë‘ë¦¬ ì œê±° */
      border-radius: 6px;            /* ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
      cursor: pointer;              /* ë§ˆìš°ìŠ¤ í¬ì¸í„° ë³€ê²½ */
    }

    /* ì „ì—­ ì»¨íŠ¸ë¡¤ ì˜ì—­: ë°˜ë³µ íšŸìˆ˜, ê°„ê²© ì…ë ¥ê³¼ ë²„íŠ¼ */
    #globalControlsWrapper {
      display: flex;                      /* ê°€ë¡œ ì •ë ¬ */
      justify-content: space-between;    /* ì¢Œìš° ì •ë ¬ */
      align-items: center;               /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
      padding: 20px 40px;                /* ì—¬ë°± */
      background: #f8f8f8;               /* ë°°ê²½ìƒ‰ */
      border-bottom: 1px solid #ccc;     /* í•˜ë‹¨ êµ¬ë¶„ì„  */
    }

    /* ìˆ«ì ì…ë ¥ì°½ (íšŸìˆ˜, ê°„ê²©) */
    #globalControls input[type="number"] {
      width: 80px;            /* ì…ë ¥ì°½ ë„ˆë¹„ */
      padding: 6px;           /* ì•ˆìª½ ì—¬ë°± */
      margin-right: 10px;     /* ì˜¤ë¥¸ìª½ ì—¬ë°± */
    }

    /* ë°˜ë³µ ì‹œì‘ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    #globalControls button {
      padding: 8px 16px;
      font-weight: bold;
      background: #ffc107;     /* ë…¸ë€ìƒ‰ ë°°ê²½ */
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-left: 5px;
    }

    /* ëª¨ë‹ˆí„°ë§ ë°•ìŠ¤ ì¶”ê°€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    #addButton {
      padding: 10px 20px;
      background: #007bff;     /* íŒŒë€ ë°°ê²½ */
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    /* ì „ì²´ ë°•ìŠ¤ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
    #container {
      display: flex;
      flex-wrap: wrap;         /* ì¤„ë°”ê¿ˆ í—ˆìš© */
      gap: 16px;               /* ë°•ìŠ¤ ì‚¬ì´ ê°„ê²© */
      padding: 20px 40px;
    }

    /* ê°œë³„ URL ë°•ìŠ¤ */
    .urlBox {
      position: relative;
      background: var(--box-bg);
      border: 1px solid var(--box-border);
      padding: 12px;
      border-radius: 8px;
      width: calc(30% - 10px);  /* 3ë“±ë¶„ (ë°˜ì‘í˜• ê³ ë ¤ ì‹œ ë³€ê²½ ê°€ëŠ¥) */
      box-sizing: border-box;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    /* URL ì…ë ¥ì°½ */
    .urlBox input[type="text"] {
      width: 88%;
      padding: 8px 40px 8px 10px;
      font-size: 14px;
      box-sizing: border-box;
    }

    /* ì‚­ì œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .deleteBtn {
      position: absolute;
      top: 15px;
      right: 14px;
      background: #dc3545;
      color: white;
      border: none;
      border-radius: 50%;
      width: 28px;
      height: 28px;
      font-size: 16px;
      cursor: pointer;
    }

    /* ìƒíƒœ ë©”ì‹œì§€ ì˜ì—­ */
    .status {
      font-size: 13px;
      color: #666;
      margin-top: 6px;
      min-height: 18px;
    }

    /* ì›¹ì‚¬ì´íŠ¸ í‘œì‹œ iframe */
    iframe {
      width: 100%;
      height: 250px;
      margin-top: 10px;
      border: 1px solid #ddd;
      border-radius: 6px;
    }
	
	@media (max-width: 768px) {
	  /* ì…ë ¥ì°½ê³¼ ë²„íŠ¼ í¬ê¸° í™•ëŒ€ */
	  #globalControls input[type="number"],
	  #globalControls button,
	  #addButton {
		font-size: 1.2rem;        /* ê¸€ì í¬ê¸° í™•ëŒ€ */
		padding: 12px 16px;       /* í„°ì¹˜í•˜ê¸° ì‰½ê²Œ ì—¬ë°± í™•ëŒ€ */
		width: 100%;              /* ëª¨ë°”ì¼ì—ì„œëŠ” í•œ ì¤„ì”© */
		margin-bottom: 10px;
	  }

	  #globalControlsWrapper {
		flex-direction: column;   /* ì„¸ë¡œ ë°°ì¹˜ */
		align-items: stretch;     /* ê°€ë¡œ ì „ì²´ ì±„ìš°ê¸° */
	  }

	  #container {
		padding: 10px;
	  }

	  .urlBox {
		width: 70%;              /* í•œ ì¤„ ì „ì²´ ë„ˆë¹„ë¡œ */
	  }

	  .urlBox input[type="text"] {
		font-size: 1rem;
		padding: 10px;
	  }

	  iframe {
		height: 200px;            /* ëª¨ë°”ì¼ì—ì„œëŠ” ë†’ì´ ì‚´ì§ ì¤„ì„ */
	  }
	}
	
  </style>
</head>
<body>
  <!-- ìƒë‹¨ íƒ€ì´í‹€ ì˜ì—­ -->
  <header>
    <h1>ğŸŒ ì‹¤ì‹œê°„ ì›¹ì‚¬ì´íŠ¸ ë¦¬í”„ë ˆì…”</h1>
    <button id="toggleThemeBtn">ë‹¤í¬ëª¨ë“œ</button>
  </header>

  <!-- ë°˜ë³µ íšŸìˆ˜, ê°„ê²© ì»¨íŠ¸ë¡¤ ë° ì°½ ì¶”ê°€ ë²„íŠ¼ ì˜ì—­ -->
  <div id="globalControlsWrapper">
    <div id="globalControls">
      <input id="globalCount" type="number" placeholder="íšŸìˆ˜" min="1" />
      <input id="globalInterval" type="number" placeholder="ê°„ê²©(ì´ˆ)" step="0.1" min="0.5" />
      <button id="globalRepeatBtn">ë°˜ë³µ ì‹œì‘</button>
    </div>
    <button id="addButton">+ ìƒˆ ëª¨ë‹ˆí„°ë§ ì°½ ì¶”ê°€</button>
  </div>

  <!-- ëª¨ë‹ˆí„°ë§ ë°•ìŠ¤ë“¤ì´ ì¶”ê°€ë  ì»¨í…Œì´ë„ˆ -->
  <div id="container"></div>

  <!-- ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘ -->
  <script>
    const container = document.getElementById('container');
    const addButton = document.getElementById('addButton');
    const globalCountInput = document.getElementById('globalCount');
    const globalIntervalInput = document.getElementById('globalInterval');
    const globalRepeatBtn = document.getElementById('globalRepeatBtn');
    const toggleThemeBtn = document.getElementById('toggleThemeBtn');

    let globalTimer = null;
    let globalCount = 0;
    let globalRunning = false;

    function refreshAllIframes() {
      const boxes = document.querySelectorAll('.urlBox');
      boxes.forEach(box => {
        const urlInput = box.querySelector('input[type="text"]');
        const iframe = box.querySelector('iframe');
        const status = box.querySelector('.status');
        const raw = urlInput.value.trim();
        if (!raw) return;
        const srcBase = raw.startsWith('http') ? raw : 'https://' + raw;
        iframe.src = srcBase + '?_ts=' + Date.now();
        status.textContent = `í˜ì´ì§€ ë¡œë”© ì¤‘... (${globalCount + 1}íšŒ)`;
      });
    }

    globalRepeatBtn.addEventListener('click', () => {
      const times = parseInt(globalCountInput.value);
      const seconds = parseFloat(globalIntervalInput.value);

      if (!times || !seconds || seconds < 0.5) {
        alert('íšŸìˆ˜ì™€ 0.5ì´ˆ ì´ìƒì˜ ê°„ê²©ì„ ì…ë ¥í•˜ì„¸ìš”.');
        return;
      }

      if (globalRunning) {
        clearInterval(globalTimer);
        globalRunning = false;
        globalRepeatBtn.textContent = 'ë°˜ë³µ ì‹œì‘';
        return;
      }

      globalRunning = true;
      globalRepeatBtn.textContent = 'ë°˜ë³µ ì¤‘ë‹¨';
      globalCount = 0;

      refreshAllIframes();
      globalTimer = setInterval(() => {
        globalCount++;
        if (globalCount >= times) {
          clearInterval(globalTimer);
          globalRepeatBtn.textContent = 'ë°˜ë³µ ì™„ë£Œ';
          globalRunning = false;
        } else {
          refreshAllIframes();
        }
      }, seconds * 1000);
    });

    function createUrlBox() {
      const box = document.createElement('div');
      box.className = 'urlBox';

      const urlInput = document.createElement('input');
      urlInput.type = 'text';
      urlInput.placeholder = 'URL ì…ë ¥ (ì˜ˆ: https://example.com)';

      const iframe = document.createElement('iframe');

      const status = document.createElement('div');
      status.className = 'status';

      const deleteBtn = document.createElement('button');
      deleteBtn.className = 'deleteBtn';
      deleteBtn.textContent = 'Ã—';
      deleteBtn.addEventListener('click', () => {
        box.remove();
      });

      urlInput.addEventListener('keypress', e => {
        if (e.key === 'Enter') {
          const raw = urlInput.value.trim();
          if (!raw) return;
          const url = raw.startsWith('http') ? raw : 'https://' + raw;
          iframe.src = url;
          status.textContent = 'í˜ì´ì§€ ë¡œë”© ì¤‘...';
        }
      });

      box.appendChild(deleteBtn);
      box.appendChild(urlInput);
      box.appendChild(status);
      box.appendChild(iframe);
      return box;
    }

    addButton.addEventListener('click', () => {
      const newBox = createUrlBox();
      container.appendChild(newBox);
    });

    toggleThemeBtn.addEventListener('click', () => {
      const html = document.documentElement;
      const current = html.getAttribute('data-theme') || 'light';
      html.setAttribute('data-theme', current === 'light' ? 'dark' : 'light');
    });
  </script>
</body>
</html>
